(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,t,a){},265:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),i=a.n(s),c=a(78),l=a.n(c),r=(a(89),a(10)),o=(a(90),a(91),a(79)),d=a.n(o),u=(a(109),a(80)),b=a.n(u),j=a(12),m=a.n(j),p=a(81),h=a.n(p);var x=function(e){var t=m()({id:"uppy",autoProceed:!0,allowMultipleUploads:!1,debug:!1,restrictions:{maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:["image/*"]},meta:{},infoTimeout:5e3});return t.use(h.a,{endpoint:"".concat(e.serverUrl,"/upload-image"),method:"post",responseType:"text",formData:!0,fieldName:"file"}).on("file-added",(function(t){e.resetForm()})).on("upload-error",(function(e){console.error("Something went horribly wrong, try again"),t.reset()})).on("upload-success",(function(a,n){if(null===a||void 0===a?void 0:a.data){var s=new FileReader;s.readAsDataURL(a.data),s.onloadend=function(t){var a,n;(null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.result)&&("string"===typeof t.target.result&&e.setCurrentImage(null===t||void 0===t||null===(n=t.target)||void 0===n?void 0:n.result))}}e.setImageDescription(n.body.description),e.setImageId(n.body.fileName),t.reset()})),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{className:"subtitle is-4",children:"Upload your file: "}),Object(n.jsx)(b.a,{uppy:t,allowMultipleFiles:!1,height:"150px"})]})};var f=function(e){return e.image&&e.description?Object(n.jsxs)("div",{className:"px-2 block",children:[Object(n.jsx)("h2",{className:"subtitle is-5",children:"Uploaded image:"}),Object(n.jsx)("div",{className:"is-flex is-justify-content-center",children:Object(n.jsxs)("div",{className:"has-text-centered",children:[Object(n.jsx)("figure",{className:"image",children:Object(n.jsx)("img",{src:e.image,className:"responsive-image",alt:"Uploaded"})}),Object(n.jsx)("p",{className:"has-text-weight-semibold pt-2 image-description has-text-centered",children:e.description})]})})]}):null},v=a(39);var O=function(e){if(!e.data)return null;var t={labels:e.data.answers.map((function(e){return e.answer})),datasets:[{label:"Probability",data:e.data.answers.map((function(e){return e.probability})),backgroundColor:["#914e72","#0078bf","#00a95c","#3255a4","#f15060","#765ba7","#00838a","#bb8b41","#407060","#ff665e"].slice(0,e.data.answers.length)}]};return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(v.a,{type:v.a,data:t})})};var g=function(e){return e.isImageLoaded?Object(n.jsxs)("div",{className:"columns",children:[Object(n.jsx)("div",{className:"column is-half",children:Object(n.jsxs)("div",{className:"px-2 ask-question",children:[Object(n.jsx)("label",{className:"label",children:"Ask a question:"}),Object(n.jsx)("div",{className:"control",children:Object(n.jsx)("input",{className:"input",type:"text",onChange:function(t){e.setQuestion(t.target.value)},onKeyDown:function(t){"Enter"===t.key&&e.askQuestion()}})}),Object(n.jsx)("div",{className:"control pt-1",children:Object(n.jsx)("button",{className:"button is-primary",onClick:e.askQuestion,children:"Submit"})})]})}),Object(n.jsx)("div",{className:"column is-half",children:Object(n.jsx)(O,{data:e.answers})})]}):null},N="http://pcknot4.fit.vutbr.cz:8502";var y=function(){var e=Object(s.useState)(void 0),t=Object(r.a)(e,2),a=t[0],i=t[1],c=Object(s.useState)(""),l=Object(r.a)(c,2),o=l[0],u=l[1],b=Object(s.useState)(void 0),j=Object(r.a)(b,2),m=j[0],p=j[1],h=Object(s.useState)(void 0),v=Object(r.a)(h,2),O=v[0],y=v[1],F=Object(s.useState)(void 0),w=Object(r.a)(F,2),k=w[0],I=w[1];return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"container pt-3",children:[Object(n.jsx)("div",{className:"block box",children:Object(n.jsx)(x,{serverUrl:N,resetForm:function(){I(void 0),y(void 0),u(""),p(void 0)},setImageDescription:u,setCurrentImage:p,setImageId:i})}),Object(n.jsx)(f,{image:m,description:o}),Object(n.jsx)(g,{isImageLoaded:!!m,askQuestion:function(){d.a.post("".concat(N,"/ask-question/").concat(a),{question:O}).then((function(e){I(e.data)}))},setQuestion:y,answers:k}),Object(n.jsx)("footer",{className:"footer py-3",children:Object(n.jsx)("div",{className:"content has-text-centered",children:Object(n.jsx)("p",{children:"Created by Pavel Kocurek"})})})]})})},F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,266)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),i(e),c(e)}))};l.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(y,{})}),document.getElementById("root")),F()},89:function(e,t,a){}},[[265,1,2]]]);
//# sourceMappingURL=main.4680a984.chunk.js.map